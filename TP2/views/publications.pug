extends layout

block content

  include mixins/pubtable

  -
    const publications = [
      {
        "_id": "5d681f5b3264ae32060d308e",
        "year": 2029,
        "month": "mai",
        "title": "a1Title test",
        "authors": [
          "Author test",
          "Author test 2"
        ],
        "venue": "Venue test"
      },
      {
        "_id": "5d681f5b3264ae32060d308e",
        "year": 2029,
        "month": "mai",
        "title": "b2Title test",
        "authors": [
          "Author test",
          "Author test 2"
        ],
        "venue": "Venue test"
      },
      {
        "_id": "5d681f5b3264ae32060d308e",
        "year": 2028,
        "month": "mai",
        "title": "c3Title test",
        "authors": [
          "Author test",
          "Author test 2"
        ],
        "venue": "Venue test"
      },
      {
        "_id": "5d681f5b3264ae32060d308e",
        "year": 2028,
        "month": "mai",
        "title": "dTitle test",
        "authors": [
          "Author test",
          "Author test 2"
        ],
        "venue": "Venue test"
      },
      {
        "_id": "5d681f5b3264ae32060d308e",
        "year": 2027,
        "month": "mai",
        "title": "e5Title test",
        "authors": [
          "Author test",
          "Author test 2"
        ],
        "venue": "Venue test"
      },
      {
        "_id": "5d681f5b3264ae32060d308e",
        "year": 2026,
        "month": "mai",
        "title": "fTitle test",
        "authors": [
          "Author test",
          "Author test 2"
        ],
        "venue": "Venue test"
      },
      {
        "_id": "5d681f5b3264ae32060d308e",
        "year": 2026,
        "month": "mai",
        "title": "gTitle test",
        "authors": [
          "Author test",
          "Author test 2"
        ],
        "venue": "Venue test"
      },
      {
        "_id": "5d681f5b3264ae32060d308e",
        "year": 2026,
        "month": "mai",
        "title": "h8Title test",
        "authors": [
          "Author test",
          "Author test 2"
        ],
        "venue": "Venue test"
      },
      {
        "_id": "5d681f5b3264ae32060d308e",
        "year": 2025,
        "month": "mai",
        "title": "i9Title test",
        "authors": [
          "Author test",
          "Author test 2"
        ],
        "venue": "Venue test"
      },
      {
        "_id": "5d681f5b3264ae32060d308e",
        "year": 2024,
        "month": "mai",
        "title": "j10Title test",
        "authors": [
          "Author test",
          "Author test 2"
        ],
        "venue": "Venue test"
      },
      {
        "_id": "5d681f5b3264ae32060d308e",
        "year": 2023,
        "month": "mai",
        "title": "k11Title test",
        "authors": [
          "Author test",
          "Author test 2"
        ],
        "venue": "Venue test"
      },
      {
        "_id": "5d681f5b3264ae32060d308e",
        "year": 2023,
        "month": "mai",
        "title": "l12Title test",
        "authors": [
          "Author test",
          "Author test 2"
        ],
        "venue": "Venue test"
      },
      {
        "_id": "5d681f5b3264ae32060d308e",
        "year": 2023,
        "month": "mai",
        "title": "m13Title test",
        "authors": [
          "Author test",
          "Author test 2"
        ],
        "venue": "Venue test"
      },
      {
        "_id": "5d681f5b3264ae32060d308e",
        "year": 2022,
        "month": "mai",
        "title": "n14Title test",
        "authors": [
          "Author test",
          "Author test 2"
        ],
        "venue": "Venue test"
      },
      {
        "_id": "5d681f5b3264ae32060d308e",
        "year": 2022,
        "month": "mai",
        "title": "o15Title test",
        "authors": [
          "Author test",
          "Author test 2"
        ],
        "venue": "Venue test"
      },
      {
        "_id": "5d681f5b3264ae32060d308e",
        "year": 2022,
        "month": "mai",
        "title": "p16Title test",
        "authors": [
          "Author test",
          "Author test 2"
        ],
        "venue": "Venue test"
      },
      {
        "_id": "5d681f5b3264ae32060d308e",
        "year": 2021,
        "month": "mai",
        "title": "q17Title test",
        "authors": [
          "Author test",
          "Author test 2"
        ],
        "venue": "Venue test"
      },
      {
        "_id": "5d681f5b3264ae32060d308e",
        "year": 2021,
        "month": "mai",
        "title": "r18Title test",
        "authors": [
          "Author test",
          "Author test 2"
        ],
        "venue": "Venue test"
      },
      {
        "_id": "5d681f5b3264ae32060d308e",
        "year": 2021,
        "month": "mai",
        "title": "s19Title test",
        "authors": [
          "Author test",
          "Author test 2"
        ],
        "venue": "Venue test"
      },
      {
        "_id": "5d681f5b3264ae32060d308e",
        "year": 2021,
        "month": "mai",
        "title": "t20Title test",
        "authors": [
          "Author test",
          "Author test 2"
        ],
        "venue": "Venue test"
      },
      {
        "_id": "5d681f5b3264ae32060d308e",
        "year": 2020,
        "month": "mai",
        "title": "u21Title test",
        "authors": [
          "Author test",
          "Author test 2"
        ],
        "venue": "Venue test"
      },
      {
        "_id": "5d681f5b3264ae32060d308e",
        "year": 2020,
        "month": "mai",
        "title": "v22Title test",
        "authors": [
          "Author test",
          "Author test 2"
        ],
        "venue": "Venue test"
      }
    ]

    const monthNames = ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre']

  h1 Publications

  a.trigger(href="#modal-pubform")
    button Ajouter une pubication

  #modal-pubform.modal
    .modal-content
      // span.close-button x
      a(href="#")
        i.fa.fa-window-close.fa-2x.close-button
      h2 Création d'une publication
      form(action='/publications', method='POST')
        label(for='year')
          | Année
          | #{':'}
        input(
          type='number',
          name='year',
          min='1900',
          max='2099',
          step='1',
          value='2020',
          placeholder='Année')
        br

        label(for='month')
          | Mois
          | #{' '}
        select(name='month', required)
          option(value='')
            | - #{' '}
            | Mois
            | - #{' '}
          each monthName, i in monthNames
            option(value=i)= monthName.charAt(0).toUpperCase() + monthName.slice(1)
        br

        label(for='title')
          | Titre
          | #{':'}
        input(type='text',
          name='title',
          placeholder='Titre',
          value='Title test',
          minlength='5',
          required)
        br

        label(for='authors')
          | Auteurs
          | #{':'}
        br
        .author-input
          input(
            type='text',
            name='authors[]',
            placeholder='Auteurs',
            value='Auteur test',
            minlength='5',
            required)
        .add-author
          i.fa.fa-plus.fa-3x

        label(for='venue')
          | Conférence
          | #{':'}
        input(
          type='text',
          name='venue',
          placeholder='Conférence',
          value='Venue test',
          minlength='5',
          required)
        br

        input(type='submit', value='Créer')

  p
    | Trié par: #{' '}
    select#fieldFilterSection
      each option in ['date', 'title']
        option(value=option)= option

  p
    | Ordonner par: #{' '}
    select#filterAscValueSection
      option(value='desc') Décroissant
      option(value='asc') Croissant

  +pubtable(publications)

  .pagination
    a.pagination-link.previous &laquo;
    each page in [1, 2, 3]
      a.pagination-link(
        data-pagenumber=page)= page
    a.pagination-link.next &raquo;

    p
      | Afficher
      select#elementsPerPageSection
        each value in [10, 20, 30, 50, 100]
          if value === 20
            option(value=value, selected="selected")= value
          else
            option(value=value)= value
      | résultats par page

block script
  script(src='/javascripts/publications.js')
